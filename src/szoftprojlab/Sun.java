package szoftprojlab;
//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Sun.java
//  @ Date : 02/03/2021
//  @ Author : 
//
//


import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class Sun implements Steppable {
	private static Sun singleClassIntance = null;

	private int counter;
	private int cycle;
	private int sunStormProbability;
	private List<Asteroid> asteroids = new ArrayList<>();

	public void Init(int nearSunCycle, int _sunStormProbability) {
		cycle = nearSunCycle;
		sunStormProbability = _sunStormProbability;
	}

	public void Step() {
		System.out.println("Sun.Step()");

		try {
			System.out.print("Do you wan't to call ChangeNearSun() and SunStorm()? (YY|YN|NY|NN) ");
			char input = (char)System.in.read();

			if (Character.toUpperCase(input) == 'Y') {
				ChangeNearSun();
			}

			input = (char)System.in.read();

			if (Character.toUpperCase(input) == 'Y') {
				SunStorm();
			}
		} catch (IOException e) {
			e.printStackTrace();
		}

		System.out.println("return from Sun.Step()");
	}
	
	private void SunStorm() {
		System.out.println("Sun.SunStorm()");

		asteroids.forEach(Asteroid::SunStorm);

		System.out.println("return from Sun.SunStorm()");
	}
	
	private void ChangeNearSun() {
		asteroids.forEach(Asteroid::ChangeNearSun);
	}

	public void AddAsteroid(Asteroid asteroid) {
		if (!asteroids.contains(asteroid))
			asteroids.add(asteroid);
	}

	public static Sun getInstance() {
		if (singleClassIntance == null)
			singleClassIntance = new Sun();

		return singleClassIntance;
	}
}
