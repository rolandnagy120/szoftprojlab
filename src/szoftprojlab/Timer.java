package szoftprojlab;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Timer.java
//  @ Date : 02/03/2021
//  @ Author : 
//
//


import szoftprojlab.skeleton.ObjectHolder;

import java.util.ArrayList;
import java.util.List;

public class Timer {
	private static Timer singleClassIntance = null;
	private final List<Steppable> steppables = new ArrayList<>();

	public void Tick() {
		ObjectHolder oh = ObjectHolder.getInstance();
		String objectName = oh.get(this);
		System.out.println(objectName+".Tick()");
		steppables.forEach(Steppable::Step);
		System.out.println("return from "+objectName+".Tick()");
	}

	public void ClearSteppables() {
		steppables.clear();
	}

	public void AddSteppable(Steppable s) {
		ObjectHolder oh = ObjectHolder.getInstance();
		String objectName = oh.get(this);
		System.out.println(objectName+".AddSteppable()");
		if (!steppables.contains(s))
			steppables.add(s);
		System.out.println("return from "+objectName+".AddSteppable()");
	}

	public static Timer getInstance() {
		if (singleClassIntance == null)
			singleClassIntance = new Timer();

		return singleClassIntance;
	}
}
