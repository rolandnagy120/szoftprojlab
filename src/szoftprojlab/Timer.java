package szoftprojlab;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Timer.java
//  @ Date : 10/03/2021
//  @ Author : 
//
//


import java.util.ArrayList;
import java.util.List;

public class Timer {
	private static Timer singleClassIntance = null;
	private final List<Steppable> steppables = new ArrayList<>();

	/**
	 * Ticks the timer
	 * Calls the Step() function for every steppable
	 * object
	 */
	public void Tick() {
		var steppablesCopy = new ArrayList<>(steppables);
		for (Steppable steppable : steppablesCopy) {
			if (steppables.contains(steppable))
				steppable.Step();
		}
	}

	/**
	 * Clears all the steppables
	 * Only for the skeleton
	 */
	public void ClearSteppables() {
		steppables.clear();
	}

	/**
	 * Adds a steppable
	 * @param s - the object that will be added
	 */
	public void AddSteppable(Steppable s) {
		if (!steppables.contains(s))
			steppables.add(s);
	}

	public static Timer getInstance() {
		if (singleClassIntance == null)
			singleClassIntance = new Timer();

		return singleClassIntance;
	}

	public void RemoveSteppable(Steppable steppable) {
		steppables.remove(steppable);
	}
}
